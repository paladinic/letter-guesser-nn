<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="UTF-8" />
  <title>Test Capacitor App</title>
  <meta name="viewport"
    content="viewport-fit=cover, width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="format-detection" content="telephone=no" />
  <meta name="msapplication-tap-highlight" content="no" />
  <link rel="icon" type="image/x-icon" href="./assets/imgs/logo.png" />
  <link rel="stylesheet" href="./css/style.css" />
  <meta name="theme-color" content="#31d53d" />
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest/dist/tf.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="manifest" href="/letter-guesser-nn/manifest.json">
</head>

<body class="flex flex-column">
  <div id="loadingPanel" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.75); z-index: 1000;">
    <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: white; font-size: 24px;">
      Retraining model...
      <hr>
      Tweak training parameters if predictions are still incorrect
    </div>
  </div>
  <canvas id="drawingCanvas" width="200" height="200"></canvas>
  <div class="flex-row flex">
    <canvas id="modelInputCanvas" width="50" height="50"></canvas>
    <canvas id="probabilityChart" width="250" height="20"></canvas>
  </div>
    <div class="flex-row flex">
    <div class="flex flex-column">
      <button id="clearCanvas">CLEAR</button>
      <button id="wrongBtn">WRONG</button>
    </div>
    <div class="flex flex-column">
      <span class="white-text">PREDICTION: <span class="black-text pred">_</span></span>
      <input type="text" id="correctAnswer" placeholder="Enter correct letter" />
    </div>
  </div>
  <div class="flex-row flex">
    <div class="flex-column flex">
      <span class="white-text">EPOCHS</span>
      <input type="number" id="epochs" min="1" value="1" />
    </div>
    <div class="flex-column flex">
      <span class="white-text">L.RATE (1Ex)</span>
      <input type="number" id="learnRate" min="-5" max="-1" value="-3" />
    </div>
    <div class="flex-column flex">
      <span class="white-text">CLASS WEIGHT</span>
      <input type="number" id="classWeight" min="20" max="10000" value="100" step="20" />
    </div>
  </div>
  <script src="./js/script.js"></script>
  <script>
    if ("serviceWorker" in navigator) {
      navigator.serviceWorker.register("sw.js")
        .then((registration) => {
          alert("PWA Service Worker registered with scope:", registration.scope);
        })
        .catch((error) => {
          alert("PWA Service Worker registration failed:", error);
        });
    }
  </script>
</body>

</html>